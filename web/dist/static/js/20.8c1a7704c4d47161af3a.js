webpackJsonp([20],{FTY3:function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=a("mtWM"),r=a.n(t),l={data:function(){return{sendMessageForm:{msgWho:"all",userId:"",msgTitle:"",remarks:"",msgOneGrade:0,msgAllList:[0]}}},methods:{messageFormTest:function(){var e=this.sendMessageForm;return(""!=e.remarks||""!=e.msgTitle)&&("all"==e.msgWho||!("one"!=e.msgWho||!/^1[3-8][0-9]{9}$/.test(e.userId)))},handleSendMessage:function(){var e=this;if(this.messageFormTest()){var s=this.$loading({lock:!0,text:"玩命加载中..."});r.a.post("/admin/sendMessage",this.sendMessageForm).then(function(a){var t=a.data;s.close(),"0"==t.status?e.$message({type:"success",message:"发送成功!",showClose:!0}):e.$message({type:"error",message:t.msg,showClose:!0})}).catch(function(e){console.log(e),s.close()})}else this.$message({type:"error",message:"条件格式不正确!",showClose:!0})}}},o={render:function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"sendMessage-page"},[a("person-title",[e._v("当前位置 :: 消息系统 >> "),a("em",[e._v("发送消息")])]),e._v(" "),a("div",{staticClass:"sendMessage-page-cont"},[a("el-form",{ref:"sendMessageForm",staticClass:"admin-sendMessage",attrs:{model:e.sendMessageForm}},[a("el-form-item",{attrs:{label:"发送类型 :"}},[a("el-radio-group",{model:{value:e.sendMessageForm.msgWho,callback:function(s){e.$set(e.sendMessageForm,"msgWho",s)},expression:"sendMessageForm.msgWho"}},[a("el-radio",{attrs:{label:"all"}},[e._v("群发")]),e._v(" "),a("el-radio",{attrs:{label:"one"}},[e._v("单发")])],1)],1),e._v(" "),"one"==e.sendMessageForm.msgWho?[a("el-form-item",{attrs:{label:"对象级别 :"}},[a("el-radio-group",{model:{value:e.sendMessageForm.msgOneGrade,callback:function(s){e.$set(e.sendMessageForm,"msgOneGrade",s)},expression:"sendMessageForm.msgOneGrade"}},[a("el-radio",{attrs:{label:0}},[e._v("普通用户")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("工作人员")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"单发对象 :"}},[a("el-input",{attrs:{placeholder:"请输入收消息人账号"},model:{value:e.sendMessageForm.userId,callback:function(s){e.$set(e.sendMessageForm,"userId",s)},expression:"sendMessageForm.userId"}})],1)]:[a("el-form-item",{attrs:{label:"单发对象 :"}},[a("el-checkbox-group",{attrs:{min:1,max:2},model:{value:e.sendMessageForm.msgAllList,callback:function(s){e.$set(e.sendMessageForm,"msgAllList",s)},expression:"sendMessageForm.msgAllList"}},[a("el-checkbox",{attrs:{label:0}},[e._v("普通用户")]),e._v(" "),a("el-checkbox",{attrs:{label:1}},[e._v("工作人员")])],1)],1)],e._v(" "),a("el-form-item",{attrs:{label:"标题 :"}},[a("el-input",{attrs:{placeholder:"消息标题"},model:{value:e.sendMessageForm.msgTitle,callback:function(s){e.$set(e.sendMessageForm,"msgTitle",s)},expression:"sendMessageForm.msgTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息 : "}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容..."},model:{value:e.sendMessageForm.remarks,callback:function(s){e.$set(e.sendMessageForm,"remarks",s)},expression:"sendMessageForm.remarks"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSendMessage}},[e._v("发送消息")])],1)],2)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(l,o,!1,function(e){a("ZFY6")},null,null);s.default=n.exports},ZFY6:function(e,s){}});